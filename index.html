<!DOCTYPE html>
<html>
  <head>
    <title>Speckle Viewer + Select</title>
    <script src="https://cdn.jsdelivr.net/npm/@speckle/viewer@2.22.2"></script>
  </head>
  <body>
    <h2>ID do Objeto Selecionado:</h2>
    <select id="selectedId">
      <option>Nenhum objeto</option>
    </select>

    <div id="viewer-container" style="width: 100%; height: 600px; border: 1px solid gray;"></div>

    <script>
      async function loadViewer() {
        const container = document.getElementById("viewer-container");
        const viewer = await Speckle.Viewer.Viewer.create(container);
        await viewer.loadObject("https://app.speckle.systems/streams/8f8ced29b4/objects/f22627d137");

        // Evento ao clicar em um objeto no 3D
        viewer.interactions.on('select', async (selection) => {
          if (selection && selection.length > 0) {
            const objectId = selection[0];
            const select = document.getElementById("selectedId");
            select.innerHTML = `<option selected>${objectId}</option>`;
          }
        });
      }

      loadViewer();
    </script>
  </body>
</html>
